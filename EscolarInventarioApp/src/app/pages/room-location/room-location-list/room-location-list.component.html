
<div class="card rounded shadow-sm p-3 ">

  <div class="row g-3 align-items-end mb-3">
  <div class="col-12 col-md-7">
    <div class="input-group">
      <span class="input-group-text"><i class="fa fa-search"></i></span>
      <input
        id="searchInput"
        type="text"
        class="form-control"
        placeholder="Digite para filtrar..."
        (input)="onSearchChange($event)"
      >
    </div>
  </div>
<div class="col-12 col-md-3">
</div>
  <div class="col-12 col-md-2 text-md-end">
    <a class="btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2"
       routerLink="/roomlocation/detail">
      <i class="fa fa-plus-circle"></i>
      <span class="d-none d-sm-inline">Novo</span>
    </a>
  </div>
</div>

  <table class="table table-striped table-hover ">
    <thead class="thead-dark">
      <tr>
      <th style="width: 10%;">Código</th>
      <th style="width: 30%;">Nome</th>
      <th style="width: 35%;" class="d-none d-md-table-cell">Descrição</th>
      <th style="width: 15%;" class="d-none d-md-table-cell">Prédio</th>

      <th style="width: 10%;"> Excluir</th>
    </tr>
  </thead>
<tbody>
  @for (roomLocation of data; let i = $index; track roomLocation.id) {
    <tr style="cursor: pointer;" (click)="detalheCategory(roomLocation.id)">

      <td style="width: 10%;">{{ (currentPage - 1) * pageSize + i + 1 }}</td>
      <td style="width: 30%">{{ roomLocation.name }}</td>
      <td style="width: 35%;" class="d-none d-md-table-cell">{{ roomLocation.description || '----------------' }}</td>
      <td style="width: 15%;" class="d-none d-md-table-cell">{{ roomLocation.building || '----------------'}}</td>

      <td style="width: 10%;">
        <button type="button"
        class="btn btn-sm btn-outline-danger d-flex align-items-center justify-content-center"
        (click)="openModal($event, template, roomLocation)"
        title="Excluir">
  <i class="fa fa-trash fa-sm"></i>
  <span class="d-none d-md-inline ms-1">Excluir</span>
</button>

  }
  @empty {
    <tr>
      <td colspan="7">Não há itens disponíveis.</td>
    </tr>
  }
</tbody>

</table>
<div class="d-flex justify-content-center">
<pagination [boundaryLinks]="true"
      [align]="true"
      [totalItems]="totalItems"
      [itemsPerPage]="10"
      [(ngModel)]="currentPage"
      (pageChanged)="pageChanged($event)"
      pageBtnClass="btn"


            previousText="&lsaquo;"
            nextText="&rsaquo;"
            firstText="&laquo;"
            lastText="&raquo;">

</pagination>

</div>
</div>


<ng-template #template>
  <div class="modal-body text-center">
    <p>Tem certeza que quer deletar a localização <strong> {{selectedRoomLocation?.name }} </strong>?</p>
    <button type="button" class="btn btn-outline-primary me-3" (click)="confirm()">Sim</button>
    <button type="button" class="btn btn-outline-primary" (click)="decline()">Não</button>
  </div>
</ng-template>


